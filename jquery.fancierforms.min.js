!function(e,t,n){function a(){e(".fancy.select").removeClass("open").children(".options").hide()}var i={LEFT:37,RIGHT:39,UP:38,DOWN:40,TAB:9,SPACE:32,ENTER:13,ESC:27},c={};String.format||(String.format=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})}),e(n).on("click",function(t){0===e(t.target).parents(".fancy.select").length&&a()}),e.fn.extend({fancifySelect:function(t){function n(t){var n=String.format("<div class='fancy select{0}'>",t.prop("disabled")?" disabled":""),i=t.val(),c=t.find("[value='"+i+"']");return n+=String.format("<span class='selected-value' data-value='{0}'>{1}</span><ul class='options' style='display: none;'>",c.val(),c.text()),t.children().each(function(){switch(this.tagName.toLowerCase()){case"option":n+=a(e(this),i);break;case"optgroup":var t=e(this),c=t.attr("label");n+=String.format("<li class='group{1}'><span class='group-label'>{0}</span><ul>",c?c:"&nbsp;",t.prop("disabled")?" disabled":""),t.children().each(function(){n+=a(e(this),i)}),n+="</ul></li>"}}),n+="</ul></div>"}function a(e,t){var n=e.val();return String.format("<li class='option{2}{3}' data-value='{0}'>{1}</li>",n,e.text(),n===t?" selected":"",e.prop("disabled")?" disabled":"")}function o(e){s(e),r(e.next(".fancy.select"))}function s(t){t.on("focus",function(){var t=e(this),n=c[t.attr("id")];"undefined"==typeof n?d(t):clearTimeout(n)}),t.on("blur",function(){var t=e(this);c[t.attr("id")]=setTimeout(function(){delete c[t.attr("id")],l(t)},m.blurTimeout)}),t.on("change",function(){u(e(this))}),t.on("keydown",function(t){(t.which===i.ESC||t.which===i.ENTER)&&h(e(this).next(".fancy.select"))})}function r(t){t.on("click",function(){var t=e(this);t.hasClass("disabled")||t.prev("select").trigger("focus")}),t.on("click",".selected-value",function(){var t=e(this).parent();t.hasClass("disabled")||(t.hasClass("open")?h(t):f(t))}),t.on("click",".option",function(){_selectedOption=e(this),_selectedOption.hasClass("disabled")||0!==_selectedOption.parents(".group.disabled").length||(v(_selectedOption),h(_selectedOption.parents(".fancy.select")))})}function d(e){e.next(".fancy.select").addClass("focused")}function l(e){var t=e.next(".fancy.select");h(t),t.removeClass("focused")}function u(e){var t=e.val(),n=e.find("option[value='"+t+"']");e.next(".fancy.select").children(".selected-value").text(n.text()).attr("data-value",t).next(".options").find(".option").removeClass("selected").filter("[data-value='"+t+"']").addClass("selected")}function f(e){e.addClass("open").children(".options").show()}function h(e){e.removeClass("open").children(".options").hide()}function v(e){e.parents(".fancy.select").prev("select").val(e.attr("data-value")).trigger("change")}var p={blurTimeout:150},m=e.extend(!0,{},p,t);return this.filter("select").each(function(){var t=e(this);t.addClass("hidden").after(n(t)).attr("size",t.find("option").size()),o(t)})},fancifyRadio:function(t){function n(e){return String.format("<div class='fancy radio{2}' data-name='{0}' data-value='{1}'></div>",e.attr("name"),e.val(),e.prop("disabled")?" disabled":"")}function a(e){i(e),o(e.next(".fancy.radio"))}function i(t){t.on("focus",function(){var t=e(this),n=c[t.attr("id")];"undefined"==typeof n?s(t):clearTimeout(n)}),t.on("blur",function(){var t=e(this);c[t.attr("id")]=setTimeout(function(){delete c[t.attr("id")],r(t)},f.blurTimeout)}),t.on("change",function(){d(e(this))})}function o(t){t.on("click",function(){var t=e(this);t.hasClass("disabled")||l(t)})}function s(e){e.next(".fancy.radio").addClass("focused")}function r(e){e.next(".fancy.radio").removeClass("focused")}function d(t){var n=t.attr("name");e(".fancy.radio[data-name='"+n+"']").removeClass("selected"),t.next(".fancy.radio").addClass("selected").attr("data-name",n).attr("data-value",t.val())}function l(t){var n=t.attr("data-name"),a=t.prev("input:radio");a.trigger("focus"),e("input:radio[name='"+n+"']").attr("checked",!1),a.get(0).checked=!0,a.trigger("change")}var u={blurTimeout:150},f=e.extend(!0,{},u,t);return this.filter("input:radio").each(function(){var t=e(this);t.addClass("hidden").after(n(t)),a(t)})},fancifyCheckbox:function(t){function n(e){return String.format("<div class='fancy checkbox{2}' data-name='{0}' data-value='{1}'></div>",e.attr("name"),e.val(),e.prop("disabled")?" disabled":"")}function a(e){i(e),o(e.next(".fancy.checkbox"))}function i(t){t.on("focus",function(){var t=e(this),n=c[t.attr("id")];"undefined"==typeof n?s(t):clearTimeout(n)}),t.on("blur",function(){var t=e(this);c[t.attr("id")]=setTimeout(function(){delete c[t.attr("id")],r(t)},f.blurTimeout)}),t.on("change",function(){d(e(this))})}function o(t){t.on("click",function(){var t=e(this);t.hasClass("disabled")||l(t)})}function s(e){e.next(".fancy.checkbox").addClass("focused")}function r(e){e.next(".fancy.checkbox").removeClass("focused")}function d(e){var t=e.next(".fancy.checkbox");e.get(0).checked?t.addClass("selected"):t.removeClass("selected")}function l(e){var t=e.prev("input:checkbox"),n=t.get(0);t.trigger("focus"),n.checked=!n.checked,t.trigger("change")}var u={blurTimeout:150},f=e.extend(!0,{},u,t);return this.filter("input:checkbox").each(function(){var t=e(this);t.addClass("hidden").after(n(t)),a(t)})}})}(jQuery,window,document);